# 크로스보더 (CrossBorder)

한-중 크로스보더 정산 플랫폼 - 빠르고 안전한 거래 기반 정산 서비스

## 프로젝트 개요

- **이름**: 크로스보더 (CrossBorder / 跨境通)
- **목표**: 한국-중국 간 개인, 프리랜서, 법인의 거래 기반 정산을 안전하고 효율적으로 중개
- **주요 특징**:
  - 다국어 지원 (한국어/영어/중국어)
  - **모바일 최적화**: 작은 글자, 최소 여백, 1줄 원칙
  - 실시간 환율 계산 및 수수료 투명성
  - FAQ 챗봇을 통한 24시간 자동 고객 응대
  - 에스크로 기반 안전 정산
  - AML/KYC 규제 준수

## 공개 URL

- **개발 환경**: https://3000-iot2t2120ya3es4o3igia-cc2fbc16.sandbox.novita.ai
- **GitHub**: (추후 업데이트)
- **Production**: (Cloudflare Pages 배포 후 업데이트)

## 완료된 기능

### ✅ 핵심 기능
1. **실시간 시세 통합 엔진** ⭐ NEW
   - KRW/USD, CNY/USD, USDT/USD 실시간 환율
   - KRW/USDT, CNY/USDT 자동 파생 계산
   - 1~5초 단위 자동 갱신
   - 고객 가치: **지금 얼마인지 즉시 확인**, 별도 계산기 불필요

2. **실시간 원스톱 계산기** ⭐ NEW
   - **4가지 거래 시나리오를 한 화면에서 처리**:
     1. KRW ↔ USD (외환 환전)
     2. CNY ↔ USD (외환 환전)
     3. KRW ↔ USDT (암호화폐 거래)
     4. CNY ↔ USDT (암호화폐 거래)
   - **원스톱 UX**: 금액 입력 → 결과 확인 → 실행
   - **스왑 기능**: 한 번 클릭으로 송금/수취 통화 전환
   - **실시간 반영**: 입력 즉시 결과 표시 (은행앱 수준)

3. **USDT 거래 전용 기능** ⭐ NEW
   - **네트워크 선택**: TRC20 / ERC20 / BEP20
   - **네트워크 수수료 실시간 표시**:
     - TRC20: ~$1.50 (10~30초)
     - ERC20: ~$5.00 (2~5분)
     - BEP20: ~$0.20 (10~30초)
   - **입출금 소요 시간 안내**
   - **최소/최대 거래 한도 표시**

4. **거래 신뢰성 강화 기능** ⭐ NEW
   - **실시간 환율 출처 명시** (예: CoinGecko API)
   - **마지막 갱신 시각 표시** (예: "5초 전 업데이트")
   - **수수료 고정 약속** (플랫폼 + 스프레드 명시)
   - **거래 전 최종 확인 팝업** (은행앱 스타일)
   - **거래 한도 사전 안내** (개인/프리랜서/법인 구분)

5. **다국어 시스템**
   - 한국어/영어/중국어 완벽 지원
   - 실시간 언어 전환 (헤더 및 챗봇)
   - 모든 UI 요소 번역 적용
   - **언어 선택 드롭다운 항상 보임** (숨기지 않음)

6. **모바일 최적화 디자인**
   - **작고 읽기 쉬운 글자**: 모바일 14px, PC 16px
   - **1줄 표시 원칙**: 제목/버튼 ellipsis 처리
   - **여백 최소화**: 정보 밀도 증가, 스크롤 부담 감소
   - **반응형 그리드**: 모바일 1열, 태블릿 2-3열, PC 3-4열
   - **버튼 최적화**: 높이 42px, 터치 편안
   - **카드 최적화**: 최소 높이 56px, padding 절제

7. **메인 랜딩 페이지**
   - 히어로 섹션 (서비스 소개)
   - 주요 특징 3가지 (신속/안전/합리적)
   - 이용 사례 4가지 (프리랜서/상품공급/유학생/법인)
   - 완전 반응형 디자인 (모바일/태블릿/데스크톱)
   - **계산기 바로가기 버튼** 연결

8. **FAQ 챗봇 시스템**
   - 우측 하단 고정 챗봇 버튼 (56px)
   - 25개 FAQ 항목 (10개씩 페이지네이션)
   - 아코디언 방식 질문/답변
   - 독립적인 언어 선택
   - 모바일 전체 화면, PC 420px 패널

### 🎨 디자인 시스템 (모바일 우선)

#### 타이포그래피
| 항목 | 모바일 | PC |
|------|--------|-----|
| 기본 본문 | 14px | 16px |
| 카드 제목 | 13-14px | 15-16px |
| 섹션 제목 | 16-18px | 20-22px |
| 버튼 텍스트 | 13px | 14-15px |

#### 여백 기준
| 항목 | 모바일 | PC |
|------|--------|-----|
| 섹션 padding | 12-16px | 20-24px |
| 카드 padding | 8-10px | 12-14px |
| 요소 간 간격 | 6-8px | 10-12px |

#### 색상
- **메인 색상**: Deep Navy (#0F172A) - 신뢰감
- **보조 색상**: Midnight Blue (#1E293B) - 전문성
- **포인트 색상**: Orange (#FF7A00) - 행동 유도
- **배경 색상**: White (#FFFFFF), Soft Gray (#F8FAFC)

#### 반응형 브레이크포인트
- **모바일**: < 768px (1열 레이아웃)
- **태블릿**: 768-1023px (2-3열)
- **PC**: ≥ 1024px (3-4열)

## 디자인 원칙

### ✅ 적용된 원칙
1. **모바일: 작지만 읽기 쉬움** - 14px 기본, 명확한 대비
2. **한 줄 원칙** - 모든 제목과 설명 ellipsis
3. **여백 절제** - 정보 밀도 증가, 스크롤 최소화
4. **언어 전환 강조** - 항상 보이는 드롭다운, 즉시 반영
5. **터치 친화적** - 최소 36px 클릭 영역
6. **카드 최소화** - 높이 56px, padding 최소

## 데이터 구조

### FAQ 데이터
- **위치**: `/public/faq-data.json`
- **구조**:
  - `meta`: 기본 언어, 지원 언어, 페이지 크기
  - `faq[]`: 25개 FAQ 항목
    - `id`: 고유 식별자
    - `category`: 카테고리 분류
    - `title`: 다국어 제목 객체
    - `content`: 다국어 내용 객체

### 실시간 환율 엔진 (API)
- **지원 환율**:
  - **외환 환율**: KRW/USD, CNY/USD, USD/KRW, USD/CNY
  - **암호화폐 시세**: USDT/USD, USD/USDT
  - **파생 환율**: KRW/USDT, USDT/KRW, CNY/USDT, USDT/CNY
- **갱신 주기**: 1~5초 자동 갱신
- **API 엔드포인트**: `GET /api/rates`
- **현재 상태**: Mock 데이터 (실서비스 시 CoinGecko/ExchangeRate API 연동 필요)

### 수수료 체계
- **개인 사용자**: 플랫폼 수수료 0.8% + 환율 스프레드 0.2% = **총 1.0%**
- **프리랜서**: 플랫폼 수수료 1.5% + 환율 스프레드 0.5% = **총 2.0%**
- **법인**: 플랫폼 수수료 0.5% + 환율 스프레드 0.2% = **총 0.7%**

### USDT 네트워크 수수료
- **TRC20 (Tron)**: ~$1.50 (소요시간: 10~30초) ✅ 권장
- **ERC20 (Ethereum)**: ~$5.00 (소요시간: 2~5분)
- **BEP20 (BSC)**: ~$0.20 (소요시간: 10~30초)

## 한도 정책

### 개인 사용자
- 1회 한도: 100만 원
- 월 한도: 300~500만 원
- KYC 인증 시 상향 가능

### 프리랜서
- 1건당: 300~1,000만 원
- 월 한도: 3,000만 원

### 법인
- 계약 기반, 별도 승인 절차

## 아직 구현되지 않은 기능

### 🚧 백엔드 기능
1. **실제 환율 API 연동** (현재: Mock 데이터)
   - 추천: CoinGecko API (암호화폐), ExchangeRate-API (외환)
2. **환율 고정 (Quote Lock)** 기능
   - 30초~2분간 환율 고정하여 거래 안정성 확보
   - 급변 시 재확인 팝업
3. **실시간 가격 알림** 시스템
   - 목표 환율 도달 시 알림
   - 이메일/SMS/푸시 알림
4. **사용자 인증 시스템** (KYC/AML)
5. **데이터베이스 연동** (Cloudflare D1)
6. **결제 게이트웨이 연동** (PG사)
7. **에스크로 정산 로직**
8. **관리자 대시보드**

### 📱 프론트엔드 기능
1. **회원가입/로그인 페이지**
2. **마이페이지** (거래 내역, 한도 확인)
3. **거래 히스토리 & 증빙 자동화**
   - 거래 내역 타임라인
   - 환율/수수료/시점 기록
   - PDF/Excel 다운로드
   - 세무/회계 포맷 지원
4. **거래 추적 시스템** (실시간 상태 업데이트)
5. **알림 시스템** (환율 알림, 거래 완료 알림)
6. **국가별 규제 자동 가이드**
   - KRW 기반: 한국 규제 자동 적용
   - CNY 기반: 중국 규제 자동 적용
   - 한도 초과 시 사전 경고 및 대체 방법 제안

## 권장 다음 단계

### 1단계: 데이터베이스 구축 (우선순위: 높음)
```bash
# Cloudflare D1 데이터베이스 생성
wrangler d1 create crossborder-production

# 마이그레이션 파일 생성
mkdir migrations
# users, transactions, wallets 테이블 설계
```

### 2단계: 인증 시스템 (우선순위: 높음)
- JWT 기반 인증
- KYC 단계별 인증 (기본/1단계/2단계)
- 세션 관리

### 3단계: 실제 API 연동 (우선순위: 중간)
- 환율 API: exchangerate-api.com 또는 Fixer.io
- PG 연동: Toss Payments, Stripe 등
- 중국 지급 파트너 API 연동

### 4단계: 관리 기능 (우선순위: 중간)
- 관리자 대시보드
- 거래 모니터링 (AML/FDS)
- 리포트 생성

### 5단계: Cloudflare Pages 배포 (우선순위: 높음)
```bash
# 배포 준비
npm run build

# Cloudflare Pages 프로젝트 생성
wrangler pages project create crossborder --production-branch main

# 배포
wrangler pages deploy dist --project-name crossborder
```

## 사용 가이드

### 🌐 웹사이트 방문
- **메인 페이지**: https://3000-iot2t2120ya3es4o3igia-cc2fbc16.sandbox.novita.ai
- **환전 계산기**: https://3000-iot2t2120ya3es4o3igia-cc2fbc16.sandbox.novita.ai/exchange

### 💱 실시간 환전 계산기 사용법
1. **'지금 시작하기' 버튼 클릭** (메인 페이지에서)
2. **보내는 금액 입력** (예: 1,000,000 KRW)
3. **통화 선택**:
   - 보내는 통화: KRW, CNY, USD, USDT
   - 받는 통화: USD, CNY, USDT, KRW
4. **USDT 선택 시 네트워크 선택**:
   - TRC20 (권장: 저렴하고 빠름)
   - ERC20 (높은 수수료)
   - BEP20 (가장 저렴)
5. **실시간 결과 확인**:
   - 환율 (자동 갱신)
   - 수수료 (플랫폼 + 스프레드 + 네트워크)
   - 최종 수령액
6. **'거래 신청하기' 버튼 클릭**
7. **최종 확인 팝업에서 내용 확인 후 진행**

### 💡 팁
- **스왑 버튼**: 송금/수취 통화를 빠르게 전환
- **수수료 토글**: 수수료 내역 자세히 보기
- **실시간 갱신**: 환율은 1~5초마다 자동 업데이트
- **모바일 최적화**: 스마트폰에서도 편리하게 사용

### 로컬 개발 환경 실행

```bash
# 의존성 설치
npm install

# 빌드
npm run build

# 개발 서버 시작 (PM2)
pm2 start ecosystem.config.cjs

# 또는 직접 실행
npm run dev:sandbox

# 테스트
curl http://localhost:3000
curl http://localhost:3000/api/rates
curl -X POST http://localhost:3000/api/exchange/calculate \
  -H "Content-Type: application/json" \
  -d '{"amount": 1000000, "from": "KRW", "to": "USD", "userType": "individual"}'
```

### API 테스트
```bash
# 실시간 환율 조회
curl http://localhost:3000/api/rates

# 환전 계산
curl -X POST http://localhost:3000/api/exchange/calculate \
  -H "Content-Type: application/json" \
  -d '{
    "amount": 1000000,
    "from": "KRW",
    "to": "USDT",
    "userType": "individual",
    "network": "TRC20"
  }'
```

### 챗봇 사용 방법
1. 우측 하단의 주황색 챗봇 버튼 클릭
2. 상단에서 원하는 언어 선택 (항상 보임)
3. 질문 제목 클릭하면 답변이 아코디언으로 펼쳐짐
4. 하단 페이지네이션으로 추가 FAQ 확인

## 배포 상태

- **플랫폼**: Cloudflare Pages
- **상태**: 🟡 로컬 개발 완료, 프로덕션 배포 대기
- **기술 스택**:
  - Frontend: HTML/CSS/JavaScript + Tailwind CSS
  - Backend: Hono (Cloudflare Workers)
  - Build: Vite
  - Runtime: Cloudflare Pages
- **마지막 업데이트**: 2026-01-05

## 기술적 특징

### Cloudflare Pages 최적화
- ✅ `serveStatic` from `hono/cloudflare-workers` (Node.js API 미사용)
- ✅ 정적 파일 서빙 (`/faq-data.json`)
- ✅ API 라우트 분리 (`/api/*`)
- ✅ SSR 렌더링 via Hono JSX
- ✅ Edge Runtime 호환

### 모바일 최적화
- ✅ 작은 글자 크기 (14px 기본)
- ✅ 1줄 표시 원칙 (ellipsis)
- ✅ 여백 최소화 (정보 밀도 증가)
- ✅ 반응형 그리드 (1/2/3열)
- ✅ 터치 친화적 버튼 (42px)

### 보안 및 규제 준수
- 외국환 송금이 아닌 **거래 기반 정산 플랫폼**
- 소액 한도 설정으로 AML 리스크 최소화
- 거래 목적 명시 필수
- 에스크로 기반 안전 정산

## 변경 이력

### v2.0 (2026-01-05) ⭐ 주요 업데이트
- ✨ **실시간 환율 통합 엔진** 구현
  - KRW/USD, CNY/USD, USDT/USD 실시간 시세
  - 10개 환율 쌍 자동 파생 계산
  - 1~5초 단위 자동 갱신
- 💱 **4가지 거래 시나리오 원스톱 처리**
  - KRW ↔ USD / CNY ↔ USD (외환)
  - KRW ↔ USDT / CNY ↔ USDT (암호화폐)
- 🔄 **스왑 기능** 추가 (송금/수취 통화 즉시 전환)
- 🌐 **USDT 네트워크 선택** (TRC20/ERC20/BEP20)
- 💰 **수수료 투명화** (플랫폼 + 스프레드 + 네트워크)
- ✅ **거래 전 최종 확인 팝업** (은행앱 스타일)
- 📊 **실시간 갱신 시각 표시** (예: "5초 전 업데이트")
- 🎯 **원스톱 UX 완성** (입력→결과→실행)

### v1.1 (2026-01-05)
- ✨ 모바일 최적화 적용
- 📱 반응형 타이포그래피 시스템
- 🎨 여백 최소화 및 정보 밀도 증가
- 🌍 언어 선택 드롭다운 강조
- 📐 1줄 표시 원칙 적용

### v1.0 (2026-01-05)
- 🎉 초기 출시
- 🌍 다국어 지원 (한/영/중)
- 🤖 FAQ 챗봇 시스템
- 💰 수수료 계산기

## 라이선스

© 2026 크로스보더. 모든 권리 보유.

본 서비스는 외국환 송금이 아닌 거래 기반 정산 플랫폼입니다.

---

**개발자**: GenSpark AI Assistant  
**프로젝트 코드명**: webapp → crossborder  
**버전**: MVP v2.0 (Real-time Exchange Engine)  
**핵심 가치**: "고객은 통화만 고르고 금액만 입력하면, 환율·수수료·USDT까지 한 화면에서 실시간으로 끝나는 플랫폼"

